# [Quick Start](@id quickstart)

This section describes how you can set up your demos easily in _five lines of codes_.

## Manage your demo files

The rules of demo management are super simple:

* you need one demo page to hold all the demo files
* a demo page has several demo sections
* a demo section either
    * has other demo sections as nested subsections, or,
    * has the demo files

In the following example:

* we have one demo page: "quickstart" ---> The current page you're looking at
* "quickstart" has one demo section: "usage example"
* "usage example" has two demo subsections: "basics" and "julia_demos"
  * "basics" section holds all markdown demos
  * "julia_demos" section holds all julia demos
* "assets" folders are ignored by `DemoCards.jl`
* "index.md" is where all demo cards are organized in (aka page template)
* "config.json" are configuration files (there're many)

```text
docs/quickstart
â”œâ”€â”€ index.md
â””â”€â”€ usage_example
    â”œâ”€â”€ basics
    â”‚   â”œâ”€â”€ assets
    â”‚   â”œâ”€â”€ config.json
    â”‚   â”œâ”€â”€ configure_card.md
    â”‚   â”œâ”€â”€ configure_sec_and_page.md
    â”‚   â””â”€â”€ simple_markdown_demo.md
    â”œâ”€â”€ config.json
    â””â”€â”€ julia_demos
        â”œâ”€â”€ 1.julia_demo.jl
        â”œâ”€â”€ 2.cover_on_the_fly.jl
        â””â”€â”€ assets
```

```@setup simplest_demopage
using DemoCards
using DemoCards: DemoPage
```

_Democards_ can read the demo structure from your folder structure:

```@repl simplest_demopage
cd("../../../..") do
    DemoPage("docs/quickstart")
end
```

## Deploy your demo page

Deployment is also very simple:

1. load a theme using `cardtheme`
2. create a demopage using `makedemos`
3. pass the results to `Documenter.jl`
4. postprocess demos generated by Documenter

```julia
# 1. generate a DemoCard theme
templates, theme = cardtheme("grid")

# 2. generate demo files
demopage, postprocess_cb = makedemos("demos", templates) # relative path to docs/

# 3. normal Documenter usage
format = Documenter.HTML(assets = [theme, ])
makedocs(format = format,
         pages = [
            "Home" => "index.md",
            demopage,
         ],
         sitename = "Awesome demos")

# 4. postprocess after makedocs
postprocess_cb()
```


After it's set up, you can now focus on contributing more demos and leave
other works to `DemoCards.jl`.

Here's the generated democards! You can read it one by one to get how things are managed in `DemoCards.jl`.

---

{{{democards}}}

---

Actually, this exact page you're reading is generated by `DemoCards.jl`, which we call _the index
page_ of demos. An index page always have cover images, that could sometimes be undesired. In this
case, you could choose to not generate the index page, and use the Documenter's sidebar for
navigation. For example, the "Theme: None" section in "Theme Gallery" is generated by the following
setup:

```julia
# 1. generate demo files
# If you don't pass the templates for index page, then it won't be generated
demopage, postprocess_cb = makedemos("demos")

# 2. normal Documenter usage
makedocs(format = Documenter.HTML(),
         pages = [
            "Home" => "index.md",
            demopage,
         ],
         sitename = "Awesome demos")

# 3. postprocess after makedocs
postprocess_cb()
```

## What DemoCards.jl does

The pipeline of [`makedemos`](@ref DemoCards.makedemos) is:

1. analyze the structure of your demo folder and extracts supplementary configuration information
2. copy "`assets`" folder without processing
3. preprocess demo files and save it
4. process and save cover images
5. generate a postprocessing callback function

Since all files are generated to `docs/src`, the next step is to leave everything else
to `Documenter.jl` ðŸ’¯

!!! tip

    By default, `makedemos` generates all the necessary files to `docs/src/democards`,
    so it's recommended to put your source files into folders outside `docs/src`,
    otherwise it will be processed by Documenter _twice_. Also, it's often the case that
    you need to add `docs/src/democards` to `.gitignore`.

For advanced usage of `DemoCards.jl`, you need to understand the core [concepts](@ref concepts) of it.

!!! warning

    Currently, there's no guarantee that this function works for untypical
    documentation folder structure. By the name **typical**, it is:

    ```julia
    .
    â”œâ”€â”€ Project.toml
    â”œâ”€â”€ docs/
    â”‚   â”œâ”€â”€ demos/ # manage your demos outside docs/src
    â”‚   â”œâ”€â”€ make.jl
    â”‚   â”œâ”€â”€ Project.toml
    â”‚   â””â”€â”€ src/
    â”œâ”€â”€ src/
    â””â”€â”€ test/
    ```
